{"ast":null,"code":"import _objectWithoutProperties from \"/Users/juanignaciobenito/code/form/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/juanignaciobenito/code/form/client/src/App.js\";\nimport React from 'react';\nimport './App.css';\n\nconst nodemailer = require(\"nodemailer\"); //Node mailer object\n\n\nlet transporter = nodemailer.createTransport({\n  service: \"Gmail\",\n  auth: {\n    user: \"antiaemailer@gmail.com\",\n    pass: \"nananananana\"\n  }\n});\nconst emailRegex = RegExp(/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/);\n\nconst formValid = (_ref) => {\n  let formErrors = _ref.formErrors,\n      rest = _objectWithoutProperties(_ref, [\"formErrors\"]);\n\n  let valid = true; //validate form errors being empty \n\n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  }); //validate form was filled out \n\n  Object.values(rest).forEach(val => {\n    val === null && (valid = false);\n  });\n  return valid;\n};\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (formValid(this.state)) {\n        transporter.sendMail({\n          from: \"antiaemailer@gmail.com\",\n          to: this.state.email,\n          subject: \"Contacto desde Formulario\",\n          text: \"Hola \" + this.state.firstName + \"<p>a ver donde aparece esto</p>\",\n          html: \"<h4>a ver donde aparece esto</h4>\"\n        }).then(() => {\n          console.log(\"notification sent\");\n        });\n        console.log(\"\\n      --SUBMITTING--\\n      First Name : \".concat(this.state.firstName, \"\\n      Second Name : \").concat(this.state.lastName, \"\\n      Email : \").concat(this.state.email, \"\\n      \"));\n      } else {\n        console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n      }\n    };\n\n    this.handleChange = e => {\n      e.preventDefault();\n      const _e$target = e.target,\n            name = _e$target.name,\n            value = _e$target.value;\n      let formErrors = this.state.formErrors;\n      console.log(\"the name is\", name);\n      console.log(\"the value is\", value);\n\n      switch (name) {\n        case \"firstName\":\n          formErrors.firstName = value.length < 2 && value.length > 0 ? \"minimun 2 characters required\" : \"\";\n          break;\n\n        case \"lastName\":\n          formErrors.lastName = value.length < 2 && value.length > 0 ? \"minimun 2 characters required\" : \"\";\n          break;\n\n        case \"email\":\n          formErrors.email = emailRegex.test(value) && value.length > 0 ? \"\" : \"invalid email address\";\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        formErrors,\n        [name]: value\n      }, () => console.log(this.state));\n    };\n\n    this.state = {\n      firstName: null,\n      lastName: null,\n      email: null,\n      formErrors: {\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\"\n      }\n    };\n  }\n\n  render() {\n    const formErrors = this.state.formErrors;\n    return React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Create account\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      noValidate: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"firstName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"firstName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"First Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"\",\n      placeholder: \"First Name\",\n      name: \"firstName\",\n      noValidate: true,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"lastName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"lastName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Last Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"\",\n      placeholder: \"Last Name\",\n      name: \"lastName\",\n      noValidate: true,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      className: formErrors.email.length > 0 ? \"error\" : null,\n      placeholder: \"Email\",\n      type: \"email\",\n      name: \"email\",\n      noValidate: true,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), formErrors.email.length > 0 && React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, formErrors.email)), React.createElement(\"div\", {\n      className: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Submit\")))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/juanignaciobenito/code/form/client/src/App.js"],"names":["React","nodemailer","require","transporter","createTransport","service","auth","user","pass","emailRegex","RegExp","formValid","formErrors","rest","valid","Object","values","forEach","val","length","App","Component","constructor","props","handleSubmit","e","preventDefault","state","sendMail","from","to","email","subject","text","firstName","html","then","console","log","lastName","error","handleChange","target","name","value","test","setState","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css'; \nconst nodemailer = require(\"nodemailer\");\n\n//Node mailer object\n\nlet transporter = nodemailer.createTransport({\n  service: \"Gmail\", \n  auth: {\n      user:\"antiaemailer@gmail.com\", \n      pass: \"nananananana\"\n  }\n}); \n\nconst emailRegex = RegExp (\n  /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n); \n\nconst formValid = ({formErrors, ...rest})=> {\n  let valid = true; \n  \n  //validate form errors being empty \n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false); \n  }); \n\n  //validate form was filled out \n  Object.values(rest).forEach(val => {val === null && (valid=false)})\n  return valid; \n}; \n\nclass App extends React.Component {\n  constructor(props) {\n    super(props); \n    this.state = {\n      firstName: null,\n      lastName: null,\n      email: null,\n      formErrors: {\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\"\n      }\n    };\n  }; \n  \n  \n  handleSubmit = e => {\n    e.preventDefault(); \n    if (formValid(this.state)){\n\n      transporter.sendMail({\n        from: \"antiaemailer@gmail.com\",\n        to: this.state.email, \n        subject:\"Contacto desde Formulario\", \n        text: \"Hola \" + this.state.firstName + \"<p>a ver donde aparece esto</p>\", \n        html: \"<h4>a ver donde aparece esto</h4>\"\n      }).then(() => {console.log (\"notification sent\")})\n\n      console.log(`\n      --SUBMITTING--\n      First Name : ${this.state.firstName}\n      Second Name : ${this.state.lastName}\n      Email : ${this.state.email}\n      `)\n    } else {\n      console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\"); \n    }\n  };\n  \n  handleChange = e => {\n    e.preventDefault(); \n    const { name, value} = e.target; \n    let formErrors = this.state.formErrors; \n\n    console.log (\"the name is\", name); \n    console.log (\"the value is\", value); \n\n    switch (name) {\n      case\"firstName\":\n        formErrors.firstName = \n        value.length <2 && value.length >0 \n        ? \"minimun 2 characters required\"\n        :\"\"; \n      break; \n      case\"lastName\":\n        formErrors.lastName = \n        value.length <2 && value.length >0 \n        ? \"minimun 2 characters required\"\n        :\"\"; \n      break; \n      case\"email\":\n      formErrors.email = \n        emailRegex.test (value) && value.length >0 \n        ? \"\"\n        :\"invalid email address\"; \n      break; \n    default: \n    break ; \n  }\n  this.setState({ formErrors, [name]: value }, () => console.log(this.state));\n};  \n\n  render() {\n    const {formErrors} = this.state; \n    return (\n     <div className=\"wrapper\"> \n      <div className=\"wrapper-form\">\n        <h1>Create account</h1>\n        <form onSubmit={this.handleSubmit} noValidate>\n          <div className=\"firstName\">\n            <label htmlFor=\"firstName\">First Name</label> \n            <input\n             type=\"text\"\n             className=\"\"\n             placeholder=\"First Name\"\n             name=\"firstName\"\n             noValidate\n             onChange={this.handleChange}\n            />\n          </div>\n          <div className=\"lastName\">\n            <label htmlFor=\"lastName\">Last Name</label> \n            <input\n             type=\"text\"\n             className=\"\"\n             placeholder=\"Last Name\" \n             name=\"lastName\"\n             noValidate\n             onChange={this.handleChange}\n            />\n          </div>\n          <div className=\"email\">\n            <label htmlFor=\"email\">Email</label> \n            <input\n             className={formErrors.email.length > 0 ? \"error\" : null}\n             placeholder=\"Email\"\n             type=\"email\"\n             name=\"email\"\n             noValidate\n             onChange={this.handleChange}\n            /> \n            {formErrors.email.length > 0 && ( <span className=\"errorMessage\">{formErrors.email}</span>)} \n\n          </div>\n          <div className=\"submit\">\n            <button type=\"submit\">Submit</button>\n          </div>\n        </form>\n      </div>\n     </div>\n    )\n  } \n}   \n\n\nexport default App; \n"]},"metadata":{},"sourceType":"module"}